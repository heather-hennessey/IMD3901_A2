<!DOCTYPE html>
<html>
  
  <head>
    <meta charset="utf-8">
    <title>Hello, WebVR! • A-Frame</title>
    <meta name="description" content="Hello, WebVR! • A-Frame">
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <script src="https://rawgit.com/Ctrl-Alt-Zen/aframe-mobile-controls/master/components/tilt-turn/tilt-turn.js"></script>
    
  </head>
  
  <body>
    
    <a-scene>
      <a-entity id="sceneCamera" camera position="0 1.6 0" wasd-controls look-controls>
      </a-entity>
      
      <a-entity light="type: ambient; intensity: 1.0; color:#fff;"></a-entity>
      <a-entity light="type: directional; castShadow:true; intensity:0.6; shadowBias:-0.000001; shadowMapWidth:1024; shadowMapHeight:1024;" position="-0.5 1 1"></a-entity>
      
      <a-box id="box" position="-2 0.5 -4" material="color:#7BC8A4;"></a-box>

      <a-sky src="https://cdn.glitch.com/9d2eba01-428c-4677-9a11-656bb9d253cf%2F360_outdoor.jpg?1549157530672"></a-sky>
      
    </a-scene>
  </body>
  <script>
    let mobile = AFRAME.utils.device.isMobile();


    let scene = document.querySelector('a-scene');
    let sceneCam = scene.querySelector('#sceneCamera');
    let box = scene.querySelector('#box');

    if (mobile) {
      console.log("Mobile Device Detected");
      sceneCam.setAttribute("twoway-motion", "speed", 35);
      sceneCam.setAttribute("tilt-turn", "criticalAngle", 12);
      console.log("Mobile Controls Enabled");

      if (box){
        box.setAttribute('material', 'color', 'aqua');
      }
    } else{
      console.log("Non-VR Device Connected");

      if (box){
       box.setAttribute('material', 'color', 'red');
      }
    }
    </script>
</html>